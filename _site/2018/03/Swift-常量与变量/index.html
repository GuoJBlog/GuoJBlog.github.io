<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Swift-常量与变量</title>
  <meta name="description" content="一、常量与变量1、使用之前必须声明">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Swift-常量与变量">
  <meta name="twitter:description" content="一、常量与变量1、使用之前必须声明">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Swift-常量与变量">
  <meta property="og:description" content="一、常量与变量1、使用之前必须声明">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://vno.onevcat.com/2018/03/Swift-%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/">
  <link rel="alternate" type="application/rss+xml" title="GuoJie" href="http://vno.onevcat.com/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 GuoJie 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="GuoJie logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for GuoJie" class="blog-button">GuoJie</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">不断前行，永不止步</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">嗨，我是郭杰，一个不断学习的iOS开发者。在追求技术的道路上，永不止步。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">积累从点击开始，从现在开始……</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
                
                  <li class="navigation__item"><a href="http://project.onevcat.com" target="_blank" title="archive">所有文章</a></li>
                
                  <li class="navigation__item"><a href="http://project.onevcat.com" target="_blank" title="tags">分类</a></li>
                
                  <li class="navigation__item"><a href="http://project.onevcat.com" target="_blank" title="about">关于我</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Weibo -->
  <li class="navigation__item">
    <a href="http://weibo.com/https://weibo.com/u/1612896323" title="@https://weibo.com/u/1612896323 的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>
  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/GuoJBlog" title="@GuoJBlog 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  
  <!-- Twitter -->
  <li class="navigation__item">
    <a href="http://twitter.com/641102478Guo" title="@641102478Guo" target="_blank">
      <i class='social fa fa-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li>
  

  
  <!-- Google Plus -->
  <li class="navigation__item">
    <a href="https://plus.google.com/107108267983477358170" rel="author" title="Google+" target="_blank">
      <i class='social fa fa-google-plus-square'></i>
      <span class="label">Google Plus</span>
    </a>
  </li>
  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:guojie9117@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-purple"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2018-03-04 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2018-03-04</time> &#8226; <span class="post-meta__tags tags"></span>
    </div>
    <h1 class="post-title">Swift-常量与变量</h1>
  </header>

  <section class="post">
    <h4 id="一常量与变量">一、常量与变量</h4>
<p>1、使用之前必须声明</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">constant</span> <span class="o">=</span> <span class="s">"常量"</span>
<span class="k">var</span> <span class="nv">variable</span> <span class="o">=</span> <span class="s">"变量"</span>
</code></pre></div></div>

<p>2、一行声明多个变量和多个变量赋值</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Double</span>
<span class="k">var</span> <span class="nv">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span>
</code></pre></div></div>

<p>3、变量、常量名的命名</p>

<ul>
  <li>不能以数字开头</li>
  <li>如果非要使用Swfit关键字，则需要关键字前后添加反引号(`)</li>
  <li>如果在使用printf打印输出时不想换行，可以设置terminator参数为””</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="p">(`</span><span class="nv">let</span><span class="p">`)</span> <span class="o">=</span> <span class="s">"let关键字"</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"输出"</span><span class="p">,</span> <span class="nv">terminator</span><span class="p">:</span><span class="s">""</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"是是是</span><span class="se">\(</span><span class="kt">XXX</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>4、swift注释</p>
<ul>
  <li>swift中的多行注释可以允许嵌套注释</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*XXXXXXXXX
XXXXXXXXXXX
/*XXXXXXXXX
*/
XXXXXXXXXXX
*/</span>
</code></pre></div></div>

<h4 id="二整形浮点型">二、整形、浮点型</h4>
<p>1、浮点型：Double、Float(优先使用Double)</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Double</span><span class="err">：</span><span class="n">精确度至少15位数字</span>
<span class="kt">Float</span> <span class="err">：</span><span class="n">精确度最多只有6位数字</span>
</code></pre></div></div>

<p>2、整形字面量</p>
<ul>
  <li>一个10进制，没有前缀</li>
  <li>一个2进制，0b为前缀</li>
  <li>一个8进制，0o为前缀</li>
  <li>一个16进制，0X为前缀</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">decimalInter</span>        <span class="o">=</span> <span class="mi">17</span>
<span class="k">let</span> <span class="nv">binaryInteger</span>       <span class="o">=</span> <span class="mb">0b10001</span>
<span class="k">let</span> <span class="nv">octalInteger</span>        <span class="o">=</span> <span class="mi">0</span><span class="n">c21</span>
<span class="k">let</span> <span class="nv">hexadecimalInteger</span>  <span class="o">=</span> <span class="mh">0x11</span>
</code></pre></div></div>

<p>3、整型范围</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Int8</span>    <span class="err">：</span><span class="o">-</span><span class="mi">128</span> <span class="o">~</span> <span class="mi">127</span>
<span class="kt">UInt8</span>   <span class="p">:</span> <span class="mi">0</span> <span class="o">~</span> <span class="mi">255</span>
</code></pre></div></div>

<p>4、类型别名(Type Aliases)</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">typealias</span> <span class="kt">AudioSample</span><span class="p">(</span><span class="n">类型别名</span><span class="p">)</span> <span class="o">=</span> <span class="kt">UInt16</span>
</code></pre></div></div>

<p>5、元祖(Tuple)</p>

<ul>
  <li>元祖内部可以是任意类型的值</li>
  <li>元祖内访问元素下标从0开始</li>
  <li>定义元祖时，给元祖内部元素命名</li>
  <li>元祖不适合创建复杂的数据结构，它在临时组织值时非常有用</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//创建元祖</span>
<span class="k">let</span> <span class="nv">http404Error</span> <span class="o">=</span> <span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s">"Not Found"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">http404Error</span> <span class="o">=</span> <span class="p">(</span><span class="nv">statusCode</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span> <span class="nv">description</span><span class="p">:</span> <span class="s">"OK"</span><span class="p">)</span>
<span class="c1">//分解元祖</span>
<span class="k">let</span> <span class="p">(</span><span class="nv">statusCode</span><span class="p">,</span> <span class="nv">statusMessage</span><span class="p">)</span> <span class="o">=</span> <span class="n">http404Error</span>
<span class="c1">//忽略元祖一部分</span>
<span class="k">let</span> <span class="p">(</span><span class="nv">statusCode</span><span class="p">,</span> <span class="nv">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">http404Error</span>
<span class="c1">//通过下标来访问元祖元素</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"this is </span><span class="se">\(</span><span class="n">http404Error</span><span class="o">.</span><span class="mi">0</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">//通过名字来访问元祖元素</span>
<span class="nf">print</span><span class="p">(</span><span class="n">http404Error</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
</code></pre></div></div>

<p>6、可选类型(Optionals)</p>

<ul>
  <li>给可选变量赋值为nil,表示它没有值</li>
  <li>可选常量或者变量如果没有赋值，它们会自动被置为nil</li>
  <li>表示一个确定的值，用来表示值缺失，任何类型的可选状态都可以被置为nil</li>
  <li>通过添加!来强制解包</li>
  <li>在一个if语句中，可以包含多个可选绑定或者多个布尔条件，每一个之间使用,隔开，只要有任意一个可选绑定的值为nil或者任意一个布尔值为false,则整个if条件判断为false,也可以使用嵌套if语句来处理</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="s">"guojie"</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"my name is </span><span class="se">\(</span><span class="n">name</span><span class="o">!</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="c1">//可选绑定</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">constantName</span> <span class="o">=</span> <span class="n">someOptional</span> <span class="p">{</span>
    <span class="n">statements</span>
<span class="p">}</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">firstNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"400"</span><span class="p">),</span> <span class="k">let</span> <span class="nv">secondNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"43"</span><span class="p">),</span> <span class="n">firstNumber</span> <span class="o">&lt;</span> <span class="n">secondNumber</span> <span class="o">&amp;&amp;</span> <span class="n">secondNumber</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"陈工"</span><span class="p">)</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"失败"</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">firstNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"4"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">secondNumber</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="s">"42"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">firstNumber</span> <span class="o">&lt;</span> <span class="n">secondNumber</span> <span class="o">&amp;&amp;</span> <span class="n">secondNumber</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"成功"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>7、错误处理(error handing)</p>
<ul>
  <li>通过使用错误处理来处理中程序可能出现的错误</li>
  <li>一个函数通过在声明时添加throws关键字来抛出错误，同时在调用可能出现错误的函数时，将try关键字放置前</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">canThrowAnError</span><span class="p">()</span> <span class="k">throws</span> <span class="p">{</span>
    
<span class="p">}</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="nf">canThrowAnError</span><span class="p">()</span>
    <span class="c1">//没有错误信息抛出</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="n">有一个错误信息抛出</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>do语句将错误能被传播到更多个catch从句中</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">makeASandwich</span><span class="p">()</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">//…………</span>
<span class="p">}</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="nf">makeASandwich</span><span class="p">()</span>
    <span class="nf">eatASandwich</span><span class="p">()</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">SandwichError</span><span class="o">.</span><span class="n">outofCleanDishes</span> <span class="p">{</span>
    <span class="nf">washDishes</span><span class="p">()</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">SandwichError</span><span class="o">.</span><span class="nf">missingIngredients</span><span class="p">(</span><span class="k">let</span> <span class="nv">ingredients</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">buyGroceries</span><span class="p">(</span><span class="n">ingredients</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>8、断言和先决条件</p>

<ul>
  <li>断言只是在Debug环境中运行检查，先决条件则在Debug和Release环境中运行检查</li>
  <li>如果编译在unchecked mode(-Ounchecked),先决条件不会被检查,断言和先决条件都是true</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">age</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
<span class="c1">//断言(因为-3不&gt;=0,所以断言失败)</span>
<span class="nf">assert</span><span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"A person's age can't be less than zero"</span><span class="p">)</span>
<span class="c1">//不带信息的断言</span>
<span class="nf">assert</span><span class="p">(</span><span class="n">age</span><span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">//如果代码已经检查了条件，则使用</span>
<span class="nf">assertionFailure</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span><span class="nv">file</span><span class="p">:</span><span class="nv">line</span><span class="p">:)</span>
<span class="c1">//先决条件</span>
<span class="nf">precondition</span><span class="p">(</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"Index must be greater than zero"</span><span class="p">)</span>
<span class="c1">//表示先决条件发生失败</span>
<span class="nf">preconditionFailure</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span><span class="nv">file</span><span class="p">:</span><span class="nv">line</span><span class="p">:)</span>
</code></pre></div></div>

<p>9、致命失败(fatalError)</p>

<ul>
  <li>即使编译处于unchecked mode(-Ounchecked)时，fatalError仍然会被执行</li>
  <li>在开发早期，只有方法声明，没有实现,可以使用fatalError(_:file:line:)</li>
  <li>使用fatalError(“Unimplemented”)函数作为具体实现，不会被断言和先决条件那样被优化掉，可以确保代码执行到没有实现的方法时，程序会被中断</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//致命失败(fatalError)</span>
<span class="nf">fatalError</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span><span class="nv">file</span><span class="p">:</span><span class="nv">line</span><span class="p">:)</span>
</code></pre></div></div>


  </section>
</article>

<section class="read-more">
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2016/02/hello-world-vno/" title="link to Hello World - Vno">Hello World - Vno</a></h2>
       <p class="excerpt">What’s thisVno Jekyll is a theme for Jekyll. It is a port of my Ghost theme vno, which is originally developed from Dale Anthony’s Uno.Usage$ git clone https://github.com/onevcat/vno-jekyll.git your_site$ cd your_site$ bundler install$ bundler exe...&hellip;</p>
       <div class="post-list__meta"><time datetime="2016-02-16 14:32:24 +0800" class="post-list__meta--date date">2016-02-16</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2016/02/hello-world-vno/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "http://vno.onevcat.com/2018/03/Swift-%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/";
        this.page.identifier = "/2018/03/Swift-%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/";
    };

    var disqus_shortname = 'vno-jekyll';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2018-03-04 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="http://onev.cat">@onevcat</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2018</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
